<!-- Notifications Component - Facebook Like -->
<div class="notifications-container">
  <div class="notifications-header">
    <h2>Notifications</h2>
    <button *ngIf="notifications.length > 0" class="mark-all-read-btn" (click)="markAllAsRead()">
      Mark all as read
    </button>
  </div>

  <!-- Loading indicator -->
  <div *ngIf="isLoading" class="loading-container">
    <div class="spinner"></div>
    <p>Loading notifications...</p>
  </div>

  <!-- Empty state -->
  <div *ngIf="!isLoading && notifications.length === 0" class="empty-state">
    <i class="fas fa-bell-slash empty-icon"></i>
    <h3>No notifications</h3>
    <p>You're all caught up! Check back later for updates.</p>
  </div>

  <!-- Notifications list -->
  <div *ngIf="!isLoading && notifications.length > 0" class="notifications-list">
    <div *ngFor="let notification of notifications"
         class="notification-item"
         [class.unread]="!notification.read"
         (click)="handleNotificationClick(notification)">

      <!-- Avatar -->
      <div class="notification-avatar">
        <img [src]="getProfileImageUrl(notification.userProfileImage)" alt="User photo">
      </div>

      <!-- Main content -->
      <div class="notification-main-content">
        <div class="notification-text-wrapper">
          <span class="notification-name">{{ notification.userName || 'Unknown User' }}</span>
          <span class="notification-message">{{ notification.content }}</span>
        </div>
        <span class="notification-time">{{ notification.createdAt ? formatDate(notification.createdAt) : 'Just now' }}</span>
      </div>

      <!-- Delete button -->
      <button class="delete-btn" (click)="deleteNotification(notification, $event)">
        <i class="fas fa-times"></i>
      </button>

    </div>

    <!-- Load more button -->
    <div *ngIf="hasMoreNotifications && !loadingMore" class="load-more">
      <button (click)="loadMoreNotifications()">Load more notifications</button>
    </div>

    <!-- Loading more indicator -->
    <div *ngIf="loadingMore" class="loading-more">
      <div class="spinner-small"></div>
      <span>Loading more notifications...</span>
    </div>
  </div>
</div>
